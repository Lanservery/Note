## 常用快捷键

+ **拓展**（eXtend）命令

  + **字符拓展**：指按下 `Ctrl` + `X` 后再按下某个键，或某个组合键，如 `Ctrl` + `X` `Ctrl` + `F`（`C-x C-f`）打开一个文件；
  + **命令名拓展**：指按下 `Alt` + `X` 后再输入一个命令名，最后回车，如 `Alt` + `X` `help-with-tutorial` `Enter`（`M-x help-with-tutorial`）打开 **Emacs 快速指南**

+ `C` 代表 `Ctrl`；

+ `M` 代表 `Alt`；

+ `<ESC>` 代表 `Esc`；

+ `<Return>` 代表 `Enter`；

+ `<SPC>` 代表 `Space`；

+ `<TAB>` 代表 `Tab`；

+ `<DEL>` 代表 `Backspace`

+ `Ctrl` + `V`（`C-v`）向下翻页，`Alt` + `V`（`M-v`） 向上翻页

+ 保存缓冲 `C-x C-s`

+ 退出程序 `C-x C-c`

+ **查看操作**

  |                操作                | 操作键                   | 特有记法          | 备注                                                         | 主区外键 |
  | :--------------------------------: | ------------------------ | ----------------- | :----------------------------------------------------------- | -------- |
  |           移动光标（→）            | `Ctrl` + `F`(大选小移)   | `C-f`             | F 意为 Forward                                               | `→`      |
  |           移动光标（←）            | `Ctrl` + `B`(大选小移)   | `C-b`             | B 意为 Backward                                              | `←`      |
  |           移动光标（↓）            | `Ctrl` + `N`(大选小写移) | `C-n`             | N 意为 Next                                                  | `↓`      |
  |           移动光标（↑）            | `Ctrl` + `P`(大选小写移) | `C-p`             | P 意为 Previous                                              | `↑`      |
  |              向下翻页              | `Ctrl` + `V`(大选小移)   | `C-v`             | 当前页面的最后两行会保留到下一页面中                         | `PgDn`   |
  |              向上翻页              | `Alt` + `V`(大选小写移)  | `M-v` 或 `<ESC>v` | 先按一下 `Esc`，再按一下 `V`， 这种为没有 `Alt` 设计的替代按法， 后面不会再记录了 | `PgUp`   |
  | 将当前光标所在行置于中心 / 顶 / 底 | `Ctrl` + `L`             | `C-l`             | 按第一次置于中心，第二次顶，第三次底，相当于调整位置         | /        |
  |             移动到行首             | `Ctrl` + `A`(大选小写移) | `C-a`             | A 是第一个英文字母，可能有开头之意                           | `Home`   |
  |             移动到行尾             | `Ctrl` + `E`(大选小写移) | `C-e`             | E 意为 Ending                                                | `End`    |
  |          移动到下一个单词          | `Alt` + `F`              | `M-f`             | 如果全是中文的话，会移动到下一个标点符号处                   | /        |
  |          移动到上一个单词          | `Alt` + `B`              | `M-b`             | 如果全是中文的话，会移动到上一个标点符号处                   | /        |
  |             移动到句首             | `Alt` + `A`              | `M-a`             | 中英文逻辑一致                                               | /        |
  |             移动到句尾             | `Alt` + `E`              | `M-e`             | 中英文逻辑一致                                               | /        |
  |            移动到文件首            | `Alt` + `Shift` + `,`    | `M-<`             | 因为输入 `<` 需要按 `Shift` + `,`                            | /        |
  |            移动到文件尾            | `Alt` + `Shift` + `.`    | `M->`             | 因为输入 `>` 需要按 `Shift` + `.`                            | /        |
  |              向后搜索              | `Ctrl` + `S`             | `C-s`             | 输入要搜索的字符串后，继续执行 `C-s` 跳转到下一个匹配的项， 使用 `<DEL>` 回到上一个匹配的项，使用 `<Return>` 结束搜索 | /        |
  |              向前搜索              | `Ctrl` + `R`             | `C-r`             | 输入要搜索的字符串后，继续执行 `C-s` 跳转到上一个匹配的项， 使用 `<DEL>` 回到下一个匹配的项，使用 `<Return>` 结束搜索 | /        |
  
+ **编辑操作**

  Emacs 在打开文件后，会直接进入编辑模式

  | 操作                                                         | 操作键                                                     | 特有记法                  | 备注                                                         | 主区外键 |
  | ------------------------------------------------------------ | ---------------------------------------------------------- | ------------------------- | ------------------------------------------------------------ | -------- |
  | 开始选择                                                     | `Ctrl` + `Space` 或 `Ctrl` + `Shift` + `2`                 | `C-<SPC>` 或 `C-@`        | 激活此命令后，进入 Mark set 状态， 此时移动光标，旧光标与新光标之间的 内容将被选中 | /        |
  | 删除前一个字符或 删除选中的内容                              | `Backspace`                                                | `<DEL>`                   | 注意不要当成是 `Delete` 键了                                 | /        |
  | 删除后一个字符                                               | `Ctrl` + `D`                                               | `C-d`                     | /                                                            | `Delete` |
  | 复制选中的内容[[1\]](https://www.cnblogs.com/lance-kanglu/p/guan-yu-emacs-de-shi-yong-fang-fa-chu-ru-men.html#fn1) | `Alt` + `W`                                                | `M-w`                     | 复制选中的内容                                               | /        |
  | **移除**（Kill）选中的内容                                   | `Ctrl` + `W`                                               | `C-w`                     | 复制选中的内容，然后将其删除，相当于剪切                     | /        |
  | **移除**（Kill）前一个单词                                   | `Alt` + `Backspace`                                        | `M-<DEL>`                 | 如果全是中文的话，会复制到上一个标点符号处， 然后将其间的内容删除 | /        |
  | **移除**（Kill）后一个单词                                   | `Alt` + `D`                                                | `M-d`                     | 如果全是中文的话，会复制到下一个标点符号处， 然后将其间的内容删除 | /        |
  | **移除**（Kill）至行尾                                       | `Ctlr` + `k`                                               | `C-k`                     | 从光标处复制到行尾，不含此行的换行符， 然后将其间的内容删除 连续的多次移除所删的内容会被复制在一起 | /        |
  | **移除**（Kill）至句尾                                       | `Alt` + `k`                                                | `M-k`                     | 从光标处复制到句尾，含此句的句号， 然后将其间的内容删除      | /        |
  | 召回（Yank）                                                 | `Ctrl` + `Y`                                               | `C-y`                     | 将最后一次复制的内容在光标处插入，相当于粘贴                 | /        |
  | 召回循环                                                     | `Alt` + `Y`                                                | `M-y`                     | 使召回后，立刻使用此命令，可改变召回的内容 为上上一次的复制，连续使用则不断回溯 回到最初后再次使用则回到最后 | /        |
  | 撤销操作                                                     | `Ctrl` + `/` 或 `Ctrl` + `Shift` + `-` 或 `Ctrl` + `X` `U` | `C-/` 或 `C-_` 或 `C-x u` | 光标移动、页面滚动等命令不会撤销 输入的字符最多 20 个为一组视为一次操作 撤销操作本身也会视为一次操作被记录下来 | /        |

  > 在撤销后如果想要立刻重做，可以通过 `C-g C-/` 来实现

+ 文件与窗格操作

  | 操作     | 操作键                    | 特有记法  | 备注                                          | 主区外键 |
  | -------- | ------------------------- | --------- | --------------------------------------------- | -------- |
  | 打开文件 | `Ctrl` + `X` `Ctrl` + `F` | `C-x C-f` | 需要输入文件的路径地址， 不存在则进入新建模式 | /        |
  | 保存文件 | `Ctrl` + `X` `Ctrl` + `S` | `C-x C-s` | /                                             | /        |

  > 需要注意的是，一个打开的文件在 Emacs 中会以一个缓冲区（Buffer）的形式存在，Emacs 中可以同时存在多个缓冲区，一个在显示在界面中，多个隐藏了起来

  | 操作                                                         | 操作键                    | 特有记法  | 备注                                                         | 主区外键 |
  | ------------------------------------------------------------ | ------------------------- | --------- | ------------------------------------------------------------ | -------- |
  | 保存所有文件                                                 | `Ctrl` + `X` `S`          | `C-x s`   | 会保存前台以及后台的未保存的文件                             | /        |
  | 列出缓存区列表                                               | `Ctrl` + `X` `Ctrl` + `B` | `C-x C-b` | 在缓存区列表中回车，会调出光标所在行的缓存区， 这会让两个缓存区位于前台 | /        |
  | 切换缓存区                                                   | `Ctrl` + `X` `B`          | `C-x b`   | 需要输入缓存区的名字来切换，会将当前光标活动的缓存区 切换成目标缓存区 | /        |
  | 关闭当前缓存区[[3\]](https://www.cnblogs.com/lance-kanglu/p/guan-yu-emacs-de-shi-yong-fang-fa-chu-ru-men.html#fn3) | `Ctrl` + `X` `K`          | `C-x k`   | 可以实现放弃更改                                             | /        |
  | 关闭所有缓存区，退出                                         | `Ctrl` + `X` `Ctrl` + `C` | `C-x C-c` | 会询问是否保存未保存的缓存区                                 | /        |

  | 操作                                                         | 操作键                        | 特有记法    | 备注                                                         | 主区外键 |
  | ------------------------------------------------------------ | ----------------------------- | ----------- | ------------------------------------------------------------ | -------- |
  | 在新窗格中打开文件                                           | `Ctrl` + `X` `4` `Ctrl` + `F` | `C-x 4 C-f` | 打开后，光标也会自动切换到新窗格中                           | /        |
  | 将当前窗格左右一分为二[[4\]](https://www.cnblogs.com/lance-kanglu/p/guan-yu-emacs-de-shi-yong-fang-fa-chu-ru-men.html#fn4) | `Ctrl` + `X` `3`              | `C-x 3`     | 分割后，皆显示原当前窗格的缓存区 光标停留在左窗格中          | /        |
  | 将当前窗格上下一分为二                                       | `Ctrl` + `X` `2`              | `C-x 2`     | 分割后，皆显示原当前窗格的缓存区 光标停留在上窗格中          | /        |
  | 仅显示当前窗格                                               | `Ctrl` + `X` `1`              | `C-x 1`     | 其他窗格将被关闭，当前窗格将最大化显示 关闭窗格并不会连带关闭其中的缓存区 | /        |
  | 将光标移动到另一个窗格                                       | `Ctrl` + `X` `O`              | `C-x o`     | 连续使用，可以循环回原窗格 光标所在的窗格即为当前窗格        | /        |

+ 开启 *Shell* 窗口：`M-x shell`

## 打开窗口

+ 图形界面

  ```
  emacs

+ 命令行窗口

  ```
  emacs -nw
  ```

## 打开文件

+ 直接打开

  ```
  emacs file.name
  ```

+ 窗口打开

  ```
  # 前提是用 emacs 命令打开应用
  # 窗口打开以后，在下方输入文件名称即可
  C-x C-f
  ```

## Dired

+ 通过按键 `C-x d`，即先`C-x`后按`d` (调用 `dired` 命令)后输入要打开的目录后回车，即可打开对应的目录结构。默认情况下，emacs将当前buffer的所在的目录作为打开的目录。在改变目录路径时可以使用 `TAB` 键补全

+ 文件导航

  打开目录结构后，使用 `n/p` 或 `C-n/C-p` 或方向键都可以在文件和目录间移动。在目录上按回车键会打开新的目录，在文件上按回车键会打开该文件。在 `..` 上按回车键可以跳转到上级目录。除了这种方式，还可以按 `C-x C-j` 回到上级目录。其他的按键操作：

  + `^`: 跳转到上一目录级 (Shift + ^)
  + `<`: 移到上一个目录行，跳过文件行 (Shift + <)
  + `>`: 移到下一个目录行，跳过文件行 (Shift + >)
  + `j`: 移到指定文件行

+ 文件选择

  + `m`: 标记光标所在的文件或目录，并将光标下移一行

  + `DEL`: 删除上一行标记，并将光标上移一行

  + `u`: 取消光标所在文件或目录的标记

  + `U`: 取消所有文件或目录的标记

  + `t`: 反选所有文件或目录的标记

  + `#`: 标记所有以 `#` 结尾的emacs临时文件

  + `~`: 标记所有以 `～` 结尾的emacs自动备份文件

  + `d`: 给文件或目录加“待删除”标记(按'x'执行删除)

+ 文件浏览

  + `A`: 按照正则搜索文件，列出搜索结果

  + `v`: 以view-mode(只读)浏览文件内容

  + `o`: 在另一个窗口打开文件或目录

  + `i`: 在当前窗口插入子目录

  + `s`: 对列表按名字或日期排序

+ 文件操作

  按下快捷键时，dired优先操作有mark标记的文件，多个标记则为批量操作，没有标记则只对当前光标下的文件操作。常用的操作有：

  + `+`: 创建子目录
  + `C`: 拷贝文件或目录
  + `R`: 重命名/移动 文件或目录
  + `D`: 直接删除文件或目录
  + `x`: 删除带有“待删除”标记(d)的文件或目录
  + `c`: 压缩文件，默认可使用的后缀有 .zip, .tar.gz, .tar.bz2, .tar.xz, .tar.zst
  + `Z`: 使用gzip压缩或解压缩文件
  + `g`: 刷新dired buffer

## sr-speedbar

+ 快捷键 `F5`
+ 按键盘上的 `+`可以打开目录浏览文件列表，或者打开源文件浏览函数列表；`-`可以关闭上面的打开

## 主题

+ 切换主题：`M-x load-theme`，使用`tab`键切换主题
+ 推荐主题：`leuven` 、 `misterioso`、`dichromacy`

## 插件

+ 卸载插件：`M-x package-delete`，**最好使用此方法，避免卸载相关依赖**
## 常见问题

+ 中文乱码：`M-x revert-buffer-with-coding-system`， 输入 `gbk` 即可.
+ 查看启动速度：`M-x emacs-init-time`

+ `M-x load-file`命令重新加载 `init.el`文件
+ 中断正在输入或执行中的命令：`C-g`